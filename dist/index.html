<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test worker</title>
    <script src="/dwn.js"></script>
    <script>
        window.addEventListener('load', e => {
          dwn().then(h => window.dwnHandler = h);
        });
      function wipeIDB() {
        let DBDeleteRequest = window.indexedDB.deleteDatabase("keyval-store");

        console.log("Wiping Cache");

        DBDeleteRequest.onsuccess = function (event) {
          console.log("Cache Wiped");
        };
        DBDeleteRequest.onblocked = function (event) {
          console.log("Cache Wipe Blocked");
          console.log(event);
        };
        DBDeleteRequest.onerror = function (event) {
          console.log("Cache Already Empty");
        };
      }
    </script>
</head>
<body>
<a href="large.bin">Go to a large file</a> <br>
<a href="large.bin" download>Download a large file</a> <br>
<button onclick="wipeIDB()">Wipe Cache</button>
</body>
</html>